<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>LeituraQuest • Vitrine</title>
<style>
body{margin:0;font-family:Inter,system-ui,Arial;background:#0f1220;color:#eaeaf0}
header{padding:24px;background:linear-gradient(135deg,#2b5876,#4e4376)}
.container{max-width:1100px;margin:0 auto;padding:16px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
.card{background:#151a35;border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.small{opacity:.8}
button{background:#6c8cff;border:0;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
</style>
</head>
<body>
<header>
  <div class="container">
    <h1>LeituraQuest</h1>
    <div id="profile" class="small">Carregue seu public.json</div>
    <button onclick="pick()">Selecionar public.json</button>
  </div>
</header>
<main class="container">
  <h2>Coleção</h2>
  <div id="books" class="grid"></div>
</main>
<script>
async function load(url){
  const res = await fetch(url);
  const data = await res.json();
  render(data);
}
function pick(){
  const i=document.createElement('input');i.type='file';i.accept='application/json';
  i.onchange=()=>{const f=i.files[0];const r=new FileReader();r.onload=()=>render(JSON.parse(r.result));r.readAsText(f)};
  i.click();
}
function render(data){
  document.getElementById('profile').textContent = (data.profile?.name||'Jogador') + ' • ' + (data.profile?.title||'Iniciante');
  const b=document.getElementById('books'); b.innerHTML='';
  (data.books||[]).forEach(x=>{
    const d=document.createElement('div'); d.className='card';
    d.innerHTML = '<b>'+x.title+'</b><div class="small">'+(x.progress||0)+'%</div>';
    b.appendChild(d);
  });
}
load('./public.json').catch(()=>{});
</script>
</body>
</html>
